<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>EcoQuest • Module Selector</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&family=Press+Start+2P&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="chooseModule.css">
</head>
<body>
  <!-- Corner crystals -->
  <img src="Group 2.png" alt="decor" class="corner tl" />
  <img src="Group 1.png" alt="decor" class="corner tr" />

  <div class="wrap">
    <header>
      <h1>Module Selector</h1>
      <p>Choose the module you want to learn</p>
    </header>

    <section class="grid">
        <!-- A: Water Conservation -->
        <figure class="module area-a" data-key="water">
            <img src="Watercons.png" alt="Rise as the Water Guardian – every drop counts" />
            <a class="hit" href="#" aria-label="Open Water module"></a>
            <a class="startBtn" href="#" aria-label="Start Water"></a>
        </figure>

        <!-- B: Air Pollution -->
        <figure class="module area-b" data-key="air">
            <img src="Airpoll.png" alt="Rise with the wind – defeat pollution" />
            <a class="hit" href="#" aria-label="Open Air module"></a>
            <a class="startBtn" href="#" aria-label="Start Air"></a>
        </figure>

        <!-- C: Waste Segregation -->
        <figure class="module area-c" data-key="waste">
            <img src="wasteSegre.png" alt="Sort the waste, save the Earth" />
            <a class="hit" href="#" aria-label="Open Waste module"></a>
            <a class="startBtn" href="#" aria-label="Start Waste"></a>
        </figure>

        <div class="spacer"></div>

        <!-- D: Environmental Laws -->
        <figure class="module area-d" data-key="laws">
            <img src="Environmental Laws.png" alt="Defend the laws – guard the Earth" />
            <a class="hit" href="#" aria-label="Open Laws module"></a>
            <a class="startBtn" href="#" aria-label="Start Laws"></a>
        </figure>

        <!-- E: Biodiversity -->
        <figure class="module area-e" data-key="life">
            <img src="Biodiversity.png" alt="Guard the life – fight extinction" />
            <a class="hit" href="#" aria-label="Open Biodiversity module"></a>
            <a class="startBtn" href="#" aria-label="Start Biodiversity"></a>
        </figure>
    </section>
  </div>

  <!-- Close Button -->
  <button class="close-btn" onclick="window.location.href='index.html'">✕ Close</button>
  
  <script>
  document.addEventListener('DOMContentLoaded', function() {
    // Module pages mapping
    const modulePages = {
      water: "waterconservation.html",
      air: "airModule.html",
      waste: "wasteModule.html",
      laws: "lawsModule.html",
      life: "biodiversityModule.html"
    };

    // Add click listeners to all modules (both hit area and start button)
    document.querySelectorAll(".module").forEach(module => {
      const moduleKey = module.dataset.key;
      const targetPage = modulePages[moduleKey];
      
      // Make entire module clickable
      module.addEventListener("click", function(e) {
        e.preventDefault();
        if (targetPage) {
          window.location.href = targetPage;
        } else {
          alert("⚠️ Module not available yet!");
        }
      });
      
      // Add hover effect
      module.style.cursor = "pointer";
    });

    // Also handle individual start buttons
    document.querySelectorAll(".startBtn").forEach(btn => {
      btn.addEventListener("click", function (e) {
        e.preventDefault();
        e.stopPropagation(); // Prevent double click
        
        const moduleKey = this.parentElement.dataset.key;
        const targetPage = modulePages[moduleKey];

        if (targetPage) {
          window.location.href = targetPage;
        } else {
          alert("⚠️ Module not available yet!");
        }
      });
    });
  });
  </script>
</body>
</html>
